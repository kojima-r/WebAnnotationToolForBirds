使い方
=====================

ファイル
----------------
- load.html
- label.js
- audio.js

ファイル読み込み
----------------
ローカルからの読み込み（D&D：拡張子で識別）
- ラベルファイル(csv)
- 音ファイル(wav)

サーバからの読み込み
- サムネイルファイル(jpg)
- サムネイルリストファイル(csv)
- 音ファイル(wav)

ラベルファイル形式
----------------
１行あたり１ラベル（１区間）のコンマ区切りcsv
一行のフォーマットは以下の順序

```内部セグメントID,ラベル,時刻,方向,分離時セグメントID,教師ラベル=1```

注意事項
- 各行は入力順
- x座標の単位は(sec)
- y座標は0-1で正規化

操作方法
----------------
ラベル操作
- 左クリック＆ドラッグ：線を引く
- 右クリック：最も近い点のラベル変更
- ctrl + 左クリック＆ドラッグ : 最も近くの点を動かす
- ctrl + 右クリック：最も近い点のラベル削除

表示操作
- shift + 「+」キー：ズームイン
- shift + 「-」キー：ズームアウト

音再生操作
- 再生ボタン：最初から音を再生する
- 停止ボタン：音の再生を停止する
- 再開ボタン：現在の停止位置から再生を再開する

音再生
------
停止時には波形上に表示されるシークバーを操作して停止位置を変更できる．

サムネイルリストファイル
----------------
１行あたり１ラベル（１区間）のコンマ区切りcsv
一行のフォーマットは以下の順序

``` フレーム番号，開始からの時間,サムネイルファイル ```

- フレーム番号 : 未使用
- 開始からの時間 : 単位は (msec)
- サムネイルファイルは thumbnail ディレクトリからの相対パスを指定


既知のバグ
----------------
- 音の再生が終わっても再生終了とならないため停止ボタンをユーザが押す必要がある

内部のプログラムについて
----------------
- 内部的にはラベルのx座標はすべて(0-1)に正規化して扱っている．出力時に音ファイルの再生時間との積を取ることで出力結果を秒単位にしている．

- 原則としてラベル操作に関する関数は label.js に，音再生操作に関する関数は audio.js に定義しているが，
再生中のラベル側の描画処理などは audio.js からラベルの描画を行っている．

- また，キーボード操作は js ファイル内では行わず，html側から関数を呼ぶようにしているが，マウスの処理は js 内で座標を受け取っている．

- 命名規則
    - キャメルケース：変数，関数
    - 大文字＋スネークケース：グローバル変数（audio.js と label.js の両方で使用）
    - その他乱れ：コピペコードのせい


